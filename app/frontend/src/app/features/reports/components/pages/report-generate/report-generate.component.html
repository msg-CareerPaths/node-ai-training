<section class="flex justify-center py-8">
  <mat-card class="w-full max-w-xl p-4">
    <header class="mb-4 flex items-center justify-between gap-4">
      <h1 class="text-xl font-semibold text-slate-900">Generate report</h1>

      <button mat-stroked-button color="primary" type="button" [routerLink]="reportsOverviewLink">
        Back to reports
      </button>
    </header>

    <form class="space-y-4" [formGroup]="form" (ngSubmit)="onSubmit()">
      @if (error()) {
        <p
          class="mb-2 rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800"
          role="alert"
        >
          {{ error() }}
        </p>
      }

      <mat-form-field class="w-full">
        <mat-label>Report kind</mat-label>
        <mat-select formControlName="reportType">
          @for (kind of kinds; track kind) {
            <mat-option [value]="kind">
              {{ kind }}
            </mat-option>
          }
        </mat-select>
      </mat-form-field>

      <mat-form-field class="w-full">
        <mat-label>Format</mat-label>
        <mat-select formControlName="format">
          @for (format of formats; track format) {
            <mat-option [value]="format">
              {{ format }}
            </mat-option>
          }
        </mat-select>
      </mat-form-field>

      <div class="flex justify-end gap-2">
        <button
          mat-stroked-button
          type="button"
          [routerLink]="reportsOverviewLink"
        >
          Cancel
        </button>

        <button mat-flat-button color="primary" type="submit">
          @if (!isSubmitting()) {
            <ng-container> Generate </ng-container>
          } @else {
            <span class="flex items-center gap-2">
              <mat-spinner diameter="18" />
              Generating...
            </span>
          }
        </button>
      </div>
    </form>
  </mat-card>
</section>
